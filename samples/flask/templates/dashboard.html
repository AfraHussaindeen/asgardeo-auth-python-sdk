<!--
  ~ Copyright (c) 2021, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
  ~
  ~ WSO2 Inc. licenses this file to you under the Apache License,
  ~ Version 2.0 (the "License"); you may not use this file except
  ~ in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing,
  ~ software distributed under the License is distributed on an
  ~ "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  ~ KIND, either express or implied.  See the License for the
  ~ specific language governing permissions and limitations
  ~ under the License.
  -->

<html>
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon"
          href="{{ url_for('static', filename='images/favicon.ico') }}"
          type="image/gif" sizes="16x16">
    <link rel="stylesheet" type="text/css"
          href="{{ url_for('static', filename='css/theme.css') }}">
</head>
<body>

<div class="ui two column centered grid">
    <div class="column center aligned">
        <img src="{{ url_for('static', filename='images/logo-dark.svg') }}"
             class="logo-image">
    </div>
    <div class="container">
        <div class="header-title">
            <h1>
                Python Flask-Based OIDC Authentication Sample <br> (OIDC
                - Authorization Code Grant)
            </h1>
        </div>
        <div class="content">
            <h2>
                Hi {{ session_data.username }}
            </h2>
            <h3>Available user attributes</h3>
            {% if session_data.user %}
            <table>
                <tr>
                    <th>User attribute name</th>
                    <th>Value</th>
                </tr>
                {% for key, value in session_data.user.items() %}
                {% if value is not none %}
                <tr>
                    <td>{{key}}</td>
                    <td>{{value}}</td>
                </tr>
                {% endif %}
                {% endfor %}
                {% if session_data.access_token %}
                <tr>
                    <td>access_token</td>
                    <td>{{ session_data.access_token }}</td>
                </tr>
                {% endif %}
            </table>
            {% else %}
            <h3>There are no user attributes selected to the application at the
                moment.</h3>
            {% endif %}
        </div>
        <form action="{{ url_for('logout') }}" method="GET">
            <div class="element-padding">
                <button class="btn primary" type="submit">Logout</button>
            </div>
        </form>
    </div>
</div>
<img src="{{ url_for('static', filename='images/footer.png') }}"
     class="footer-image">
</div>
</body>
</html>
